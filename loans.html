<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pr√©stamos - Biblioteca Virtual Universitaria</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <i class="fas fa-book-open"></i>
                <h1>BiblioUni</h1>
            </div>
            <nav class="nav">
                <ul>
                    <li><a href="index.html" class="nav-link">Inicio</a></li>
                    <li><a href="catalog.html" class="nav-link">Cat√°logo</a></li>
                    <li><a href="loans.html" class="nav-link active">Pr√©stamos</a></li>
                    <li><a href="admin.html" class="nav-link">Administraci√≥n</a></li>
                    <li><a href="services.html" class="nav-link">Servicios</a></li>
                    <li><a href="about.html" class="nav-link">Acerca de</a></li>
                    <li><a href="contact.html" class="nav-link">Contacto</a></li>
                </ul>
            </nav>
            <div class="user-actions">
                <button class="btn-login">
                    <i class="fas fa-user"></i>
                    Iniciar Sesi√≥n
                </button>
                <button class="btn-admin" onclick="toggleAdminMode()" style="display: none;">
                    <i class="fas fa-cog"></i>
                    Admin
                </button>
            </div>
        </div>
    </header>

    <!-- Loans Section -->
    <section id="loans" class="loans section">
        <div class="container">
            <h2 class="section-title">Sistema de Pr√©stamos</h2>
            <div class="loans-tabs">
                <button class="tab-btn active" onclick="showLoanTab('request')">Solicitar Pr√©stamo</button>
                <button class="tab-btn" onclick="showLoanTab('my-loans')">Mis Pr√©stamos</button>
                <button class="tab-btn" onclick="showLoanTab('history')">Historial</button>
            </div>
            
            <!-- Request Loan Tab -->
            <div id="request-tab" class="loan-tab active">
                <div class="loan-search">
                    <h3>Buscar Libro para Pr√©stamo</h3>
                    <div class="search-box">
                        <input type="text" id="loanSearchInput" placeholder="Buscar por t√≠tulo, autor, c√≥digo Dewey...">
                        <button class="search-btn" onclick="searchForLoan()">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                    <div id="loanSearchResults" class="loan-search-results"></div>
                </div>
                
                <div class="loan-form-container" id="loanFormContainer" style="display: none;">
                    <h3>Solicitar Pr√©stamo</h3>
                    <form id="loanForm" class="loan-form">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="selectedBook">Libro Seleccionado:</label>
                                <input type="text" id="selectedBook" readonly>
                            </div>
                            <div class="form-group">
                                <label for="deweyCode">C√≥digo Dewey:</label>
                                <input type="text" id="deweyCode" readonly>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="studentId">ID de Estudiante:</label>
                                <input type="text" id="studentId" required placeholder="Ej: 20231234">
                            </div>
                            <div class="form-group">
                                <label for="studentName">Nombre Completo:</label>
                                <input type="text" id="studentName" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="faculty">Facultad:</label>
                                <select id="faculty" required>
                                    <option value="">Seleccionar Facultad</option>
                                    <option value="ingenieria">Ingenier√≠a</option>
                                    <option value="medicina">Medicina</option>
                                    <option value="derecho">Derecho</option>
                                    <option value="ciencias">Ciencias</option>
                                    <option value="humanidades">Humanidades</option>
                                    <option value="administracion">Administraci√≥n</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="loanDuration">Duraci√≥n del Pr√©stamo:</label>
                                <select id="loanDuration" required>
                                    <option value="7">7 d√≠as</option>
                                    <option value="14">14 d√≠as</option>
                                    <option value="21">21 d√≠as</option>
                                    <option value="30">30 d√≠as (solo profesores)</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="purpose">Prop√≥sito del Pr√©stamo:</label>
                            <textarea id="purpose" rows="3" placeholder="Describe el prop√≥sito acad√©mico del pr√©stamo..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Formato Deseado:</label>
                            <div class="format-selection">
                                <div class="format-option">
                                    <input type="radio" id="formatPhysical" name="format" value="physical" checked>
                                    <label for="formatPhysical">üìö F√≠sico</label>
                                </div>
                                <div class="format-option">
                                    <input type="radio" id="formatDigital" name="format" value="digital">
                                    <label for="formatDigital">üíª Digital</label>
                                </div>
                            </div>
                        </div>
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane"></i>
                            Solicitar Pr√©stamo
                        </button>
                    </form>
                </div>
            </div>
            
            <!-- My Loans Tab -->
            <div id="my-loans-tab" class="loan-tab">
                <div class="active-loans">
                    <h3>Pr√©stamos Activos</h3>
                    <div id="activeLoans" class="loans-grid">
                        <!-- Los pr√©stamos activos se cargar√°n aqu√≠ -->
                    </div>
                </div>
                
                <div class="pending-loans">
                    <h3>Pr√©stamos Pendientes</h3>
                    <div id="pendingLoans" class="loans-grid">
                        <!-- Los pr√©stamos pendientes se cargar√°n aqu√≠ -->
                    </div>
                </div>
            </div>
            
            <!-- History Tab -->
            <div id="history-tab" class="loan-tab">
                <h3>Historial de Pr√©stamos</h3>
                <div class="history-filters">
                    <input type="date" id="dateFrom" placeholder="Desde">
                    <input type="date" id="dateTo" placeholder="Hasta">
                    <select id="statusFilter">
                        <option value="">Todos los estados</option>
                        <option value="returned">Devueltos</option>
                        <option value="overdue">Vencidos</option>
                        <option value="renewed">Renovados</option>
                    </select>
                    <button onclick="filterHistory()">Filtrar</button>
                </div>
                <div id="loanHistory" class="loan-history">
                    <!-- El historial se cargar√° aqu√≠ -->
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>BiblioUni</h3>
                    <p>Tu biblioteca virtual universitaria con acceso a miles de recursos acad√©micos.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-linkedin"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Enlaces R√°pidos</h4>
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="catalog.html">Cat√°logo</a></li>
                        <li><a href="services.html">Servicios</a></li>
                        <li><a href="about.html">Acerca de</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contacto</h4>
                    <p><i class="fas fa-envelope"></i> info@bibliouji.edu</p>
                    <p><i class="fas fa-phone"></i> (555) 123-4567</p>
                    <p><i class="fas fa-map-marker-alt"></i> Campus Universitario</p>
                </div>
                <div class="footer-section">
                    <h4>Horarios</h4>
                    <p>Lunes - Viernes: 8:00 AM - 10:00 PM</p>
                    <p>S√°bados: 9:00 AM - 6:00 PM</p>
                    <p>Domingos: 12:00 PM - 8:00 PM</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 BiblioUni. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>Iniciar Sesi√≥n</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="username">Usuario:</label>
                    <input type="text" id="username" required>
                </div>
                <div class="form-group">
                    <label for="password">Contrase√±a:</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit">Iniciar Sesi√≥n</button>
            </form>
        </div>
    </div>

    <script src="config.js"></script>
    <script src="database.js"></script>
    <script src="api.js"></script>
    <script src="script.js"></script>
</body>
</html>
